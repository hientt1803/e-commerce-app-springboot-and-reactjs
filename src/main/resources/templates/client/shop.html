<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  th:replace="~{/client/index::dynamic(~{::body})}">

	<head>
		<meta charset="UTF-8">
		<title>Sản phẩm</title>

		<!-- Google Font -->
		<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&display=swap"
			  rel="stylesheet" />
		<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/carousel/carousel.umd.js"></script>
		<link rel="stylesheet"
			  href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/carousel/carousel.css" />

		<!--  Css Styles -->
		<link th:href="@{/css/bootstrap.min.css}"
			  rel="stylesheet">
		<link th:href="@{/css/font-awesome.min.css}"
			  rel="stylesheet">
		<link th:href="@{/css/elegant-icons.css}"
			  rel="stylesheet">
		<link th:href="@{/css/magnific-popup.css}"
			  rel="stylesheet">
		<link th:href="@{/css/nice-select.css}"
			  rel="stylesheet">
		<link th:href="@{/css/owl.carousel.min.css}"
			  rel="stylesheet">
		<link th:href="@{/css/slicknav.min.css}"
			  rel="stylesheet">
		<link th:href="@{/css/style.css}"
			  rel="stylesheet">
		<!-- AngularJS -->
		<script src='https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js'
				integrity='sha512-KZmyTq3PLx9EZl0RHShHQuXtrvdJ+m35tuOiwlcZfs/rE7NZv29ygNA8SFCkMXTnYZQK2OX0Gm2qKGfvWEtRXA=='
				crossorigin='anonymous'></script>
	</head>

	<body>

		<!-- Breadcrumb Section Begin -->
		<section class="breadcrumb-option">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<div class="breadcrumb__text">
							<h4>Sản phẩm</h4>

							<div class="breadcrumb__links">
								<a href="/">Trang chủ</a> <span>Sản phẩm</span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- Breadcrumb Section End -->

		<!-- Shop Section Begin -->
		<section class="shop spad">
			<div class="container">
				<div class="row">
					<!--  Sidebar -->
					<div class="col-lg-3">
						<div class="shop__sidebar">
							<div class="shop__sidebar__search">
								<form action="/shop/shop-search-product"
									  method="POST">
									<input type="text"
										   name="keywords"
										   th:value="${keywords}"
										   placeholder="Tìm kiếm..." />
									<button type="submit">
										<span class="icon_search"></span>
									</button>
								</form>
							</div>
							<div class="shop__sidebar__accordion">
								<div class="accordion"
									 id="accordionExample">
									<div class="card">
										<div class="card-heading">
											<a data-toggle="collapse"
											   data-target="#collapseOne">Danh
												mục</a>
										</div>
										<div id="collapseOne"
											 class="collapse show"
											 data-parent="#accordionExample">
											<div class="card-body">
												<div class="shop__sidebar__categories">
													<ul class="nice-scroll">
														<th:block th:each="item : ${categoryLst}">
															<li><a th:href="@{'/shop/sort-by-category/' + ${item.name}}"
																   th:text="${item.name}"></a></li>
														</th:block>
													</ul>
												</div>
											</div>
										</div>
									</div>
									<div class="card">
										<div class="card-heading">
											<a data-toggle="collapse"
											   data-target="#collapseThree">Lọc
												theo giá</a>
										</div>
										<div id="collapseThree"
											 class="collapse show"
											 data-parent="#accordionExample">
											<div class="card-body">
												<div class="shop__sidebar__price">
													<ul>
														<li><a
															   th:href="@{/shop/shop-search-product-by-price?startPrice=0.0&endPrice=1000000.0}">Dưới
																1 triệu</a></li>
														<li><a
															   th:href="@{/shop/shop-search-product-by-price?startPrice=1000000.0&endPrice=2000000.0}">1
																- 2 triệu</a></li>
														<li><a
															   href="/shop/shop-search-product-by-price?startPrice=2000000.0&endPrice=3000000.0">2
																- 3 triệu</a></li>
														<li><a
															   th:href="@{/shop/shop-search-product-by-price?startPrice=3000000.0&endPrice=4000000.0}">3
																- 4 triệu</a></li>
														<li><a
															   th:href="@{/shop/shop-search-product-by-price?startPrice=5000000.0&endPrice=10000000.0}">5
																- 10 triệu</a></li>
														<li><a
															   th:href="@{/shop/shop-search-product-by-price?startPrice=10000000.0&endPrice=999999999.0}">Trên
																10 triệu</a></li>
													</ul>
												</div>
											</div>
										</div>
									</div>
									<div class="card">
										<div class="card-heading">
											<a data-toggle="collapse"
											   data-target="#collapseSix">Thẻ</a>
										</div>
										<div id="collapseSix"
											 class="collapse show"
											 data-parent="#accordionExample">
											<div class="card-body">
												<div class="shop__sidebar__tags">
													<a th:href="@{/shop}">Tấc cả Sản phẩm</a> <a
													   th:href="@{/shop/shop-search-product-by-tab?keywords=sạc dự phòng}">Sạc
														dự phòng</a> <a
													   th:href="@{/shop/shop-search-product-by-tab?keywords=tai nghe}">Tai
														nghe</a> <a
													   th:href="@{/shop/shop-search-product-by-tab?keywords=earpod}">EarPods</a>
													<a th:href="@{/shop/shop-search-product-by-tab?keywords=ốp lưng}">Ốp
														lưng</a> <a
													   th:href="@{/shop/shop-search-product-by-tab?keywords=loa}">Loa</a>
													<a
													   th:href="@{/shop/shop-search-product-by-tab?keywords=micro}">Micro</a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<!--   Product Row  -->
					<div class="col-lg-9">
						<!-- Product header sorrt -->
						<div class="shop__product__option">
							<div class="row">
								<!--  Item top header -->
								<div class="col-lg-6 col-md-6 col-sm-6">
									<div class="shop__product__option__left">
										<p th:utext="'Hiển thị 1 – ' +  ${page.size} + ' trên ' +  ${page.totalElements} + ' kết
										quả.'">[[${page.size}]]</p>
									</div>
								</div>
								<div class="col-lg-6 col-md-6 col-sm-6">
									<form th:action="@{/shop/sort-by-price-product}"
										  method="POST">
										<div class="shop__product__option__right">
											<p>Sắp xếp theo giá:</p>
											<select name="product-header-sort"
													onchange="this.form.submit()">
												<option>Chọn</option>
												<option value="ASC"
														th:selected="${sortValue==true}">Thấp đến cao</option>
												<option value="DESC"
														th:selected="${sortValue==false}">Cao đến thấp</option>
											</select>
										</div>
									</form>
								</div>
							</div>
						</div>

						<!-- Product List -->
						<div class="row">
							<th:block th:each="item : ${page.content}">
								<!-- Item -->
								<div class="col-lg-4 col-md-6 col-sm-6">
									<div class="product__item sale">
										<a th:href="@{'/shop/product-detail?id=' + ${item.id}}"
										   class="product__item__pic"> <img
												 th:src="@{'/img/product/' + ${item.image}}" />
										</a>
										<div class="product__item__text myBtn"
											 style="cursor: pointer;">
											<h6 th:text="${item.name}"></h6>
											<a th:attr="ng-click=@{|cart.add(${item.id})|}"
											   class="add-cart"><i class="fa fa-cart-plus"
												   aria-hidden="true"></i> Thêm vào giỏ hàng</a>
											<h5 th:text="${#numbers.formatCurrency(item.price)}">
											<span class="text-danger" style="text-decoration: underline">đ</span>
										</h5>
									</div>
								</div>
							</div>
						</th:block>
						<div th:if="${#lists.isEmpty(page.content)}">
							<div
								class="d-flex justify-content-center mt-5 align-items-center flex-column w-100">
								<img th:src="@{/img/cat-delete.jpg}"
									style="border-radius: 50%; width: 150px" alt="" />
								<h6 class="text-center mt-3 w-50 font-weight-bold">Rất
									tiếc, sản phẩm bạn tìm kiếm hiện chưa được lên kệ.</h6>
							</div>
						</div>
					</div>

					<!-- Pagiantion -->
					<div class="row">
						<div class="col-lg-12">
							<div class="product__pagination" th:if="${page.totalPages > 1}">
								<th:block
									th:each="i : ${#numbers.sequence(0, page.totalPages - 1)}">
									<a th:classappend="${page.number==i ? 'active' : ''}"
										th:href="@{'/shop?p=' + ${i}}" href="/shop?p=${i}">[[${i+1}]]</a>
								</th:block>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Shop Section End -->

	
</body>
</html>